create database pmqlhh;
USE pmqlhh

create table HANGHOA (
 mahang varchar(10) primary key not null, 
    tennhang varchar(50) not null,
    dongia int, 
    xuatxu varchar(30),
 maloaihang varchar(20)
    );
    
CREATE TABLE LOAIHANG (
    maloaihang VARCHAR(20) PRIMARY KEY,
    tenloaihang VARCHAR(50),
    mieuta VARCHAR(50)
);

CREATE TABLE NHANVIEN (
    manhanvien VARCHAR(10) PRIMARY KEY not null,
    tennhanvien VARCHAR(50),
    email VARCHAR(30),
    FOREIGN KEY (email) REFERENCES TAIKHOAN(email)
);

CREATE TABLE TAIKHOAN (
    email VARCHAR(30) PRIMARY KEY,
    matkhau VARCHAR(15)
);

CREATE TABLE KHACHHANG (
    makh VARCHAR(10) PRIMARY KEY,
    tenkh VARCHAR(30),
    dienthoaikh VARCHAR(11),
    loaikh VARCHAR(5)
);

CREATE TABLE HOADON (
    mahd VARCHAR(10) PRIMARY KEY,
    makh VARCHAR(10),
    ngaylaphd DATE,
    FOREIGN KEY (makh) REFERENCES KHACHHANG(makh)
);

CREATE TABLE CHITIETHOADON (
    mahd VARCHAR(10),
    mahang VARCHAR(10),
    soluong INT,
    PRIMARY KEY (mahd, mahang),
    FOREIGN KEY (mahd) REFERENCES HOADON(mahd),
    FOREIGN KEY (mahang) REFERENCES HANGHOA(mahang)
);
